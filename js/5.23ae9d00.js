(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"8b24":function(e,a,t){"use strict";t.r(a);t("99af");var n=function(){var e=this,a=e._self._c;return a("q-layout",[a("q-page-container",{staticClass:"bg-grey-9"},[a("q-page",[a("q-chip",{staticClass:"visitCount",attrs:{dense:"",clickable:"",square:"",color:"dark","text-color":"white"}},[a("div",{staticClass:"row items-center"},[a("img",{attrs:{src:"https://www.f-counter.net/j/66/1760270248/"}})])]),e.info.coverBgUrl?a("div",{staticClass:"coverBgMain",style:"background-image: ".concat(e.maskGradient,",url('").concat(e.info.coverBgUrl,"');")}):e._e(),a("q-dialog",{attrs:{seamless:"",position:"bottom"},model:{value:e.isShowCoverSingInUI,callback:function(a){e.isShowCoverSingInUI=a},expression:"isShowCoverSingInUI"}},[a("q-card",{staticClass:"coverSingInCard transparent",attrs:{flat:""}},[a("q-card-section",{staticClass:"q-mb-xl"},[a("q-card",{class:["playReminder",{isOpacity:e.readCheck}],attrs:{flat:"",bordered:""}},[a("q-card-section",{staticClass:"q-pa-none"},[a("q-list",{attrs:{separator:"",dark:""}},["warning"===e.usePlatName?a("q-item",[a("q-item-section",{staticStyle:{"font-size":"14px"}},[a("q-item-label",{staticClass:"browserWarningSty"},[e._v("\n                        "+e._s(e.$t("browserWarning"))+"\n                      ")])],1)],1):e._e(),"chrome"===e.usePlatName||"safari"===e.usePlatName?[a("q-item",[a("q-item-section",{staticStyle:{"font-size":"14px"}},[a("q-item-label",[a("span",[e._v("遊戲使用網頁系統，")]),e.platformType.android?a("span",[e._v("\n                            安卓系統請使用 Chrome 67 以上版本開啟遊戲。\n                          ")]):e.platformType.ios?a("span",[e._v("\n                            IOS系統請使用 Safari 11 以上版本開啟遊戲。\n                          ")]):a("span",[e._v("\n                            安卓系統請使用 Chrome 67 以上版本，IOS系統請使用 Safari 11\n                            以上版本開啟遊戲。\n                          ")])])],1)],1),a("q-item",[a("q-item-section",{staticStyle:{"font-size":"14px"}},[a("q-item-label",[a("span",[e._v("請")]),a("span",{staticClass:"text-warning"},[e._v("勿使用無痕模式")]),a("span",[e._v("遊玩，否則遊玩紀錄將無法保存")]),e.info.snState?a("span",[a("span",[e._v("，且須使用")]),a("span",{staticClass:"text-warning"},[e._v("新序號")]),a("span",[e._v("才能再次遊玩")])]):e._e(),a("span",[e._v("。")])])],1)],1)]:e._e(),"line"===e.usePlatName?a("q-item",[a("q-item-section",{staticStyle:{"font-size":"14px"}},[a("q-item-label",[a("span",[e._v("\n                          偵測到您以line App開啟遊戲，請勿另開其它line\n                          App網頁連結，以免遺失遊玩進度。\n                        ")])])],1)],1):e._e(),"facebook"===e.usePlatName?a("q-item",[a("q-item-section",{staticStyle:{"font-size":"14px"}},[a("q-item-label",[a("span",[e._v("\n                          偵測到您以facebook App開啟遊戲，請勿另開其它facebook\n                          App網頁連結，以免遺失遊玩進度。\n                        ")])])],1)],1):e._e(),"instagram"===e.usePlatName?a("q-item",[a("q-item-section",{staticStyle:{"font-size":"14px"}},[a("q-item-label",[a("span",[e._v("\n                          偵測到您以instagram App開啟遊戲，請勿另開其它instagram\n                          App網頁連結，以免遺失遊玩進度。\n                        ")])])],1)],1):e._e(),a("q-item",{staticStyle:{padding:"0px"}},[a("q-item-section",[a("q-checkbox",{staticClass:"q-ml-sm",attrs:{dark:"",color:"warning",label:"我已閱讀並知悉注意事項。"},model:{value:e.readCheck,callback:function(a){e.readCheck=a},expression:"readCheck"}})],1)],1)],2)],1)],1),a("section",[a("q-btn",{class:["full-width"],attrs:{color:e.readCheck?"orange-6":"grey-6",size:"18px","no-caps":"",outline:!e.readCheck,disable:!e.readCheck,label:e.readCheck?"Start Game":"請先閱讀注意事項"},on:{click:e.singIn}})],1)],1)],1)],1),a("transition",{attrs:{name:"singinGame",mode:"out-in"}},[e.isLoading?a("section",{staticClass:"loading bg-blue-grey-10"},[a("div",{staticClass:"text-center"},[a("q-spinner-hourglass",{attrs:{color:"white",size:"4em"}}),a("div",{staticClass:"text-h5 text-white q-mt-sm"},[e._v(e._s(e.$t("loading")))])],1),a("q-linear-progress",{staticStyle:{"max-width":"50%","margin-top":"50px"},attrs:{size:"30px",dark:"",value:e.progressValue,color:"warning",stripe:"",rounded:""}},[a("div",{staticClass:"absolute-full flex flex-center"},[a("q-badge",{attrs:{color:"white","text-color":"dark",label:e.progressLabel}})],1)])],1):e._e()])],1)],1),a("section",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},e._l(e.preloadRes,function(e,t){return a("img",{key:t,attrs:{src:e}})}),0)],1)},s=[],i=t("398e"),r=t.n(i),o=t("c973"),c=t.n(o),l=t("ded3"),u=t.n(l),p=(t("4de4"),t("caad"),t("14d9"),t("b0c0"),t("e9f5"),t("7d54"),t("b680"),t("d3b7"),t("e6cf"),t("ac1f"),t("00b4"),t("2532"),t("159b"),t("2f62")),d=t("a403"),m=(t("b12a"),t("bd4c"),{name:"index",data:function(){return{isLoading:!0,preloadRes:[],lang:this.$i18n.locale,readCheck:!1,preloadComplete:0}},computed:u()(u()({},Object(p["c"])("playerMob/task",["info","task","event"])),{},{platformType:function(){return this.$q.platform.is},usePlatName:function(){var e=this.$q.platform.is.name,a=navigator.userAgent;return"chrome"===e?"chrome":"safari"===e?"safari":/Line/i.test(a)?"line":/FBAN|FBAV/i.test(a)?"facebook":/Instagram/i.test(a)?"instagram":"warning"},isShowCoverSingInUI:function(){return!this.isLoading},maskGradient:function(){var e="rgba(0, 0, 0, 0.95) 0%",a="rgba(0, 0, 0, 0.75) 20%",t="rgba(0, 0, 0, 0) 50%",n="rgba(0, 0, 0, 0) 100%";return"linear-gradient(to top, ".concat(e,",").concat(a,",").concat(t,",").concat(n,")")},langOptions:function(){var e=[{label:"中文 Chinese",value:"zh-TW"},{label:"日文 Japanese",value:"ja-JP"},{label:"英文 English",value:"en-US"}],a=this.task.useLang;return a?e.filter(function(e){return a.includes(e.value)}):[]},progressLabel:function(){if(0===this.preloadRes.length)return"0%";var e=100*this.progressValue;return e.toFixed(0)+"%"},progressValue:function(){return 0===this.preloadRes.length?0:this.preloadComplete/this.preloadRes.length}}),watch:{lang:function(e){localStorage.setItem("lang",e),this.$i18n.locale=e}},methods:u()(u()(u()({},Object(p["b"])("playerMob/task",["setInfo","setTask","setEvent"])),Object(p["b"])("base/setting",["setShowLoadingMask"])),{},{singIn:function(){var e=this;return c()(r()().m(function a(){var t;return r()().w(function(a){while(1)switch(a.n){case 0:e.$q.loading.show({spinner:d["a"],spinnerColor:"white",messageColor:"white",message:"資源載入中...",delay:400}),t=e.$q.localStorage.getItem("pzBase"),t?e.$router.push({name:"task"}).catch(function(a){e.$q.loading.hide()}):e.useOnlineData();case 1:return a.a(2)}},a)}))()},useOnlineData:function(){var e=this;return c()(r()().m(function a(){var t;return r()().w(function(a){while(1)switch(a.n){case 0:t={taskData:{},eventData:{},backpack:[],score:0,finishTask:[],isGameEnd:!1,gameEndInfo:{},facetrackInfo:[],failMsgPayload:[],planSpee:0,playerStartTime:(new Date).getTime(),playNotes:[]},t.taskData=e.task,t.eventData=e.event,t.eventData.forEach(function(e){e.eventStory?e.needReadStory=!0:e.needReadStory=!1}),e.$q.localStorage.set("pzBase",t),e.$q.loading.show(),e.$router.push({name:"task"}).catch(function(a){e.$q.loading.hide()});case 1:return a.a(2)}},a)}))()},initPreloadRes:function(){var e=this;return c()(r()().m(function a(){var t;return r()().w(function(a){while(1)switch(a.n){case 0:if(e.preloadComplete=0,t=[],e.task.preloadRes&&e.task.preloadRes.forEach(function(e){t.push(e.resourceUrl)}),0!=t.length){a.n=1;break}return a.a(2);case 1:return e.preloadRes=t,a.a(2,new Promise(function(a,n){t.forEach(function(n){var s=new Image;s.src=n,s.addEventListener("load",function(){e.preloadComplete++,t.length===e.preloadComplete&&a(!0)}),s.addEventListener("error",function(){e.preloadComplete++,t.length===e.preloadComplete&&a(!0)})})}))}},a)}))()}}),mounted:function(){var e=this;return c()(r()().m(function a(){return r()().w(function(a){while(1)switch(a.n){case 0:return e.setInfo(),e.setTask(),e.setEvent(),a.n=1,e.initPreloadRes();case 1:e.setShowLoadingMask(!0),setTimeout(function(){e.isLoading=!1},1500);case 2:return a.a(2)}},a)}))()}}),f=m,g=(t("c69a"),t("c793"),t("2877")),h=t("4d5a"),b=t("09e3"),v=t("9989"),w=t("b047"),k=t("24e8"),q=t("f09f"),C=t("a370"),S=t("1c1c"),y=t("66e5"),x=t("4074"),_=t("0170"),I=t("8f8e"),Q=t("9c40"),L=t("9149"),P=t("6b1d"),$=t("58a81"),R=t("8572"),z=t("eebe"),E=t.n(z),N=Object(g["a"])(f,n,s,!1,null,"35a519ac",null);a["default"]=N.exports;E()(N,"components",{QLayout:h["a"],QPageContainer:b["a"],QPage:v["a"],QChip:w["a"],QDialog:k["a"],QCard:q["a"],QCardSection:C["a"],QList:S["a"],QItem:y["a"],QItemSection:x["a"],QItemLabel:_["a"],QCheckbox:I["a"],QBtn:Q["a"],QSpinnerHourglass:L["a"],QLinearProgress:P["a"],QBadge:$["a"],QField:R["a"]})},bf8c:function(e,a,t){},c69a:function(e,a,t){"use strict";t("bf8c")},c793:function(e,a,t){"use strict";t("f5ec")},f5ec:function(e,a,t){}}]);